<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"
     data-controller="account-types"
     data-account-types-api-url-value="<%= api_user_account_types_path %>"
     data-account-types-csrf-token-value="<%= form_authenticity_token %>">

  <%# Page Header (sticky) %>
  <div class="sticky top-14 z-20 bg-gray-50 dark:bg-gray-900 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 py-4 mb-2 border-b border-gray-200 dark:border-gray-700 shadow-sm">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
    <div>
      <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Account Types</h1>
      <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Choose which account types are available in your dropdowns</p>
    </div>
    <div class="flex items-center space-x-3">
      <span class="text-sm text-gray-500 dark:text-gray-400">View All</span>
      <button type="button"
              class="relative inline-flex h-7 w-14 items-center rounded-full transition-colors bg-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-300"
              data-account-types-target="toggleAllButton"
              data-action="click->account-types#toggleViewAll"
              data-checked="false"
              role="switch" aria-checked="false" title="View all account types">
        <span class="inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform translate-x-1"></span>
      </button>
    </div>
    </div>
  </div>

  <%# Table %>
  <div class="bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-200 dark:ring-gray-700">
    <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
      <thead class="bg-gray-50 dark:bg-gray-800">
        <tr>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Name</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Description</th>
          <th scope="col" class="px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-20">Use</th>
        </tr>
      </thead>
      <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700" data-account-types-target="tableBody">
        <tr>
          <td colspan="3" class="px-6 py-8 text-center text-sm text-gray-400 dark:text-gray-500">Loading...</td>
        </tr>
      </tbody>
    </table>
  </div>

  <%# Info Box %>
  <div class="mt-6 rounded-lg bg-blue-50 dark:bg-blue-900/30 p-4 ring-1 ring-blue-200 dark:ring-blue-800">
    <div class="flex">
      <svg class="h-5 w-5 text-blue-400 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
      </svg>
      <p class="ml-3 text-sm text-blue-700 dark:text-blue-300">
        Toggle account types on or off to control which options appear in your Account Type dropdown.
        Click the description text to customize it for your account. Use the "View All" toggle to see all available types.
      </p>
    </div>
  </div>
</div>
